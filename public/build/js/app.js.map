{"version":3,"sources":["read_time.coffee","quote_slide_show.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["readTime = (text) ->\n    words = text.trim().split(/\\s+/g).length\n    wordsPerMinute = 200.0\n    Math.max(8000, Math.ceil(60000 * words / wordsPerMinute))\n\nroot = exports ? this\nif not root.quoterr\n    root.quoterr = {}\nroot.quoterr.readTime = readTime","root = exports ? this\nif not root.quoterr\n    root.quoterr = {}\n\nquoterr = root.quoterr\n\n$quote = $('.quote')\n$author = $('.author a')\n$link = $('#unique-link')\ntimer = -1\ntimeout = 0\ncircle = null\n\nrunner = (data) ->\n    timeout = 0\n    $quote.html data['quote']\n    $author.html data['author']\n    $author.attr href: data['author.link']\n    $author.attr title: 'Read quotes by ' + data['author']\n    $link.attr href: data['quote.link']\n\n    if timeout is 0\n        timeout = quoterr.readTime $quote.text()\n\n    circle = new ProgressBar.Circle '#slideshow', {color: '#000', strokeWidth: 12, fill: 'transparent', duration: timeout}\n\n    circle.animate 1, =>\n        circle.destroy()\n        circle = null\n\n    $.ajax data: {_format: 'json'}, url: '/', success: (d) =>\n        timer = window.setTimeout(() =>\n            runner d\n            return\n        , timeout)\n    return\n\nquoteSlideShow = (_do = true, _time = 0) ->\n    timeout = _time\n    if _do\n        runner quote: $quote.text(), author: $author.text(), 'quote.link': $link.attr('href'), 'author.link': $author.attr('href')\n    else\n        window.clearTimeout timer\n        if circle\n            circle.destroy()\n    return\n\nquoterr.quoteSlideShow = quoteSlideShow"],"sourceRoot":"/source/"}