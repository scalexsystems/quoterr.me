{"version":3,"sources":["read_time.coffee","app.js","quote_slide_show.coffee"],"names":["readTime","root","text","words","wordsPerMinute","trim","split","length","Math","max","ceil","exports","this","quoterr","call","$author","$link","$quote","circle","quoteSlideShow","runner","timeout","timer","$","data","html","attr","href","title","ProgressBar","Circle","color","strokeWidth","fill","duration","animate","_this","destroy","ajax","_format","url","success","d","window","setTimeout","_do","_time","quote","author","quote.link","author.link","clearTimeout"],"mappings":"CAAA,WAAA,GAAAA,GAAAC,CAAAD,GAAW,SAACE,GACR,GAAAC,GAAAC,CCMA,ODNAD,GAAQD,EAAKG,OAAOC,MAAM,QAAQC,OAClCH,EAAiB,IACjBI,KAAKC,IAAI,IAAMD,KAAKE,KAAK,IAAQP,EAAQC,KAE7CH,EAAA,mBAAAU,UAAA,OAAAA,QAAOA,QAAUC,KACVX,EAAKY,UACRZ,EAAKY,YACTZ,EAAKY,QAAQb,SAAWA,ICUrBc,KAAKF,MClBR,WAAA,GAAAG,GAAAC,EAAAC,EAAAC,EAAAC,EAAAN,EAAAZ,EAAAmB,EAAAC,EAAAC,CAAArB,GAAA,mBAAAU,UAAA,OAAAA,QAAOA,QAAUC,KACVX,EAAKY,UACRZ,EAAKY,YAETA,EAAUZ,EAAKY,QAEfI,EAASM,EAAE,UACXR,EAAUQ,EAAE,aACZP,EAAQO,EAAE,gBACVD,EAAQ,GACRD,EAAU,EACVH,EAAS,KAETE,EAAS,SAACI,GACNH,EAAU,EACVJ,EAAOQ,KAAKD,EAAK,OACjBT,EAAQU,KAAKD,EAAK,QAClBT,EAAQW,MAAKC,KAAMH,EAAK,iBACxBT,EAAQW,MAAKE,MAAO,kBAAoBJ,EAAK,SAC7CR,EAAMU,MAAKC,KAAMH,EAAK,gBAER,IAAXH,IACCA,EAAUR,EAAQb,SAASiB,EAAOf,SAEtCgB,EAAa,GAAAW,aAAYC,OAAO,cAAeC,MAAO,OAAQC,YAAa,GAAIC,KAAM,cAAeC,SAAUb,IAE9GH,EAAOiB,QAAQ,EAAG,SAAAC,GDwChB,MCxCgB,YD0Cd,MCzCAlB,GAAOmB,UACPnB,EAAS,OAFKN,OAIlBW,EAAEe,MAAKd,MAAOe,QAAS,QAASC,IAAK,IAAKC,QAAS,SAAAL,GD+C/C,MC/C+C,UAACM,GDgD9C,MC/CFpB,GAAQqB,OAAOC,WAAW,WACtBxB,EAAOsB,IAETrB,KAJ6CT,SAOvDO,EAAiB,SAAC0B,EAAYC,GDkDf,MAAPD,IClDUA,GAAM,GDqDP,MAATC,ICrDsBA,EAAQ,GAClCzB,EAAUyB,EACPD,EACCzB,GAAO2B,MAAO9B,EAAOf,OAAQ8C,OAAQjC,EAAQb,OAAQ+C,aAAcjC,EAAMU,KAAK,QAASwB,cAAenC,EAAQW,KAAK,WAEnHiB,OAAOQ,aAAa7B,GACjBJ,GACCA,EAAOmB,YAGnBxB,EAAQM,eAAiBA,GDgEtBL,KAAKF","file":"app.js","sourcesContent":["readTime = (text) ->\n    words = text.trim().split(/\\s+/g).length\n    wordsPerMinute = 200.0\n    Math.max(8000, Math.ceil(60000 * words / wordsPerMinute))\n\nroot = exports ? this\nif not root.quoterr\n    root.quoterr = {}\nroot.quoterr.readTime = readTime",null,"root = exports ? this\nif not root.quoterr\n    root.quoterr = {}\n\nquoterr = root.quoterr\n\n$quote = $('.quote')\n$author = $('.author a')\n$link = $('#unique-link')\ntimer = -1\ntimeout = 0\ncircle = null\n\nrunner = (data) ->\n    timeout = 0\n    $quote.html data['quote']\n    $author.html data['author']\n    $author.attr href: data['author.link']\n    $author.attr title: 'Read quotes by ' + data['author']\n    $link.attr href: data['quote.link']\n\n    if timeout is 0\n        timeout = quoterr.readTime $quote.text()\n\n    circle = new ProgressBar.Circle '#slideshow', {color: '#000', strokeWidth: 12, fill: 'transparent', duration: timeout}\n\n    circle.animate 1, =>\n        circle.destroy()\n        circle = null\n\n    $.ajax data: {_format: 'json'}, url: '/', success: (d) =>\n        timer = window.setTimeout(() =>\n            runner d\n            return\n        , timeout)\n    return\n\nquoteSlideShow = (_do = true, _time = 0) ->\n    timeout = _time\n    if _do\n        runner quote: $quote.text(), author: $author.text(), 'quote.link': $link.attr('href'), 'author.link': $author.attr('href')\n    else\n        window.clearTimeout timer\n        if circle\n            circle.destroy()\n    return\n\nquoterr.quoteSlideShow = quoteSlideShow"],"sourceRoot":"/source/"}